# **<<前端模块/frontend>>**  开发文档
# 目录  

- <details>
  <summary>1. 管理前端/manage-frontend</summary>

  [1.1. 功能需求](#11功能需求) 
  [1.2. 技术开发](#12技术开发)
  </details>

- <details>
  <summary>2. 全节点前端/fullnode-frontend</summary>

  [2.1. 功能需求](#21功能需求)
  [2.2. 技术开发](#22技术开发)
  </details>

- <details>
  <summary>3. 轻节点前端/wuminapp-frontend</summary>

  [3.1. 功能需求](#31功能需求)
  [3.2. 技术开发](#32技术开发)
  </details>

# 1.管理前端/manage-frontend
## 1.1.功能需求
### 1.1.1.高优级功能
* 管理员身份登录：国储会：使用公钥登录，执行全局多签操作；省储会：使用公钥登录，管理所属省的省储行节点，可参与跨省多签；使用公钥登录，只能管理本省节点，参与交易签名和本省多签。
* 多签管理操作：国储会：可发起全网级别多签提案，审批跨省节点操作，多签比例全网可见；省储会：可发起省级或跨省节点多签提案，审批本省或参与跨省提案；省储行：参与本省多签，签署交易或提案，无法单独完成跨省多签。
* 交易与清算管理：国储会：查看全网链上交易和分账情况，交易地址（pallet_address）支付；省储会：多签名地址支付；省储行：查看本节点交易记录和本省链下手续费收入，管理本节点清算操作。
* 节点与账户监控：国储会：全网节点在线状态监控，国储会多签名地址余额显示；省储会：本省节点状态监控，本省多签名地址余额显示；省储行：本节点在线状态和账户余额显示，本省奖励/手续费收入监控。
* 提案投票：国储会：决议发行、增删改新省储会/省储行、决议销毁；决议发行、增删改新省储会/省储行、决议销毁；省储会：决议发行、决议销毁；省储行：投票：决议发行、决议销毁。
* 投票：决议发行、决议销毁；

### 1.1.2.中优级功能
* 日志与告警：国储会：查看全网操作日志，接收跨省异常告警。省储会：查看本省节点操作日志，接收省级告警。省储行：查看本节点操作日志，接收节点操作异常告警。
* 数据查询与分析：国储会：查询全网交易历史、多签操作统计、链上手续费分配趋势。省储会：查询本省交易历史、跨省多签记录、链上/链下手续费统计。省储行：查询本节点交易记录、本省手续费收入，统计节点奖励。

### 低优级功能
* 安全与硬件支持：国储会：支持硬件钱包签名、2FA 二次验证，全网多签操作安全审计。省储会：支持硬件钱包签名，省级多签安全验证。省储行：支持硬件钱包签名，本节点操作安全验证。
* 前端体验优化：国储会：全网节点、账户快速切换，多维度报表可视化。省储会：本省节点切换，报表可视化。省储行：本节点操作界面优化，奖励/交易统计可视化。
* 通知与消息：国储会：全网提案提醒、奖励到账通知、跨省操作告警。省储会：本省提案签名提醒、奖励到账通知。省储行：本节点提案签名提醒、奖励到账提醒。

## 1.2.技术开发
* 初步架构
GMB/
└─ frontend/                     # 所有节点前端统一放在这个文件夹
    └─ manage/                   # 管理端前端（国储会 / 省储会 / 省储行共用，manage是前端管理软件，是国储会、省储会、省储行使用的前端操作软件）
        ├─ tauri.conf.json       # Tauri 框架配置文件
        ├─ package.json          # Node / React 项目依赖和配置
        ├─ src/                  # React 源代码文件夹
        │   ├─ main.tsx          # 应用入口文件
        │   ├─ App.tsx           # 根组件
        │   ├─ components/       # 可复用 UI 组件（按钮、表格、弹窗等）
        │   ├─ pages/            # 页面模块
        │   │   ├─ NationalBank/     # 国储会页面
        │   │   ├─ ProvincialBank/   # 省储会页面
        │   │   ├─ ProvincialBranch/ # 省储行页面
        │   ├─ hooks/            # 自定义 Hooks（状态管理、API 请求）
        │   ├─ utils/            # 工具函数（金额格式化、校验、公民币单位转换等）
        │   └─ assets/           # 静态资源（图片、图标、样式等）
        ├─ public/               # 公共资源文件（index.html、favicon、静态图标等）
        └─ node_modules/         # 前端依赖库（React、MUI 等）

* 技术栈与框架选择
	•	Tauri：打包桌面端（macOS / Linux），调用系统 API，安全轻量。
	•	React：实现动态界面和组件化开发。
	•	MUI (Material-UI)：UI 组件库，美观、开源、安全。
	•	TypeScript：代码强类型，更易维护。
	•	状态管理：可以用 Redux Toolkit 或 React Context 来区分不同节点角色的权限状态。

****
# 2.全节点前端/fullnode-frontend
## 2.1.功能需求
### 2.1.1高优级功能
* 节点状态监控：节点在线/离线状态，当前区块高度、同步进度，节点角色显示（全节点），CPU / 内存 / 网络带宽使用情况；
* 链上区块信息：最新区块哈希，区块时间、交易数量，出块节点（奖励接收者）；
* 交易管理：节点本地钱包余额展示（链上公民币 / 代币），支持链上链下交易发起、签名、广播，链上链下交易手续费计算显示；
* 交易池监控：待处理交易数量，链上交易费统计（总额、平均费率），链下交易上链统计；
* 奖励统计：出块奖励实时统计（本节点获得的），奖励分账比例显示（80%节点、10%国储会、10%燃烧），历史累计奖励

### 2.1.2.中优级功能
* 节点控制：启动 / 停止 / 重启节点，同步状态强制刷新；
* 配置管理：节点配置文件查看与修改（链ID、RPC端口、出块参数），自动备份与恢复；
* 日志管理：节点运行日志查看（实时），错误日志分析，告警通知；
* 交易历史查询：本节点参与的交易记录，收益记录（手续费奖励）；

### 2.1.3.低优级功能
* 安全与身份审计：硬件钱包 / 私钥签名操作，操作审计记录（时间、公钥、操作类型），审计日志导出；
* 数据可视化：区块高度、交易池、奖励统计的图表展示，链上/链下交易费趋势分析；
* 前端优化：桌面端包装（Tauri），响应式界面和主题切换，多节点监控切换；

## 2.2.技术开发
* 初步架构
gmb/
└── frontend/                     # 所有节点前端统一放在这个文件夹
    └── fullnode/                 # 全节点前端
        ├── package.json          # 前端依赖管理文件
        ├── public/               # 公共资源文件（图片、图标、静态文件等）
        ├── node_modules/         # 前端依赖库（npm/yarn 安装的包）
        └── src/                  # 源代码文件夹
            ├── App.tsx           # 主入口文件
            ├── components/       # 可复用组件，例如区块列表、节点状态面板
            ├── pages/            # 页面模块，例如监控页、交易页、日志页
            └── utils/            # 工具函数，例如 RPC 调用、数据处理
* 前端框架推荐
	•	Tauri：桌面端打包，轻量、开源、安全。
	•	React：前端组件化，便于维护和扩展。
	•	MUI (Material UI)：美观、开箱即用的 UI 库。

****
# 3.轻节点前端/wuminapp-frontend
## 3.1.功能需求
### 高优级功能
* 账户管理
  • 注册/导入账户：通过助记词或私钥导入或创建账户。
  • 账户信息展示：显示公民币余额、交易记录、质押状态。
  • 公钥登录：使用助记词生成公钥登录，不存储私钥于前端。
  • 身份认证：使用CIIC码绑定认证后可参与治理投票。 

* 转账支付功能
  • 链下支付：选择省储行节点，显示手续费和收款信息。
  • 链上支付：转账上链，显示链上手续费、收款地址和交易状态。
  • 交易确认：签名交易后，显示成功或失败信息。

* 交易记录查询
  • 交易历史：列出所有链上/链下交易记录，包括时间、金额、收付款方、手续费。
  • 状态显示：显示交易状态（待处理、已完成、失败）。

* 钱包安全
  • 签名授权：所有操作均使用用户私钥签名，无需账号密码。
  • 助记词管理提示：提醒用户妥善保存助记词，防止泄露。
  • 硬件钱包支持：可选硬件钱包签名，避免私钥暴露。

### 中优级功能
* 多节点选择
  • 省储行节点选择：显示可用省储行节点列表，可切换节点完成交易。
  • 节点状态监控：显示节点在线状态、响应延迟。

* 交易手续费提示
  • 链下交易费：显示省储行设定费率，并在转账前提示。
  • 链上交易费：显示全网链上手续费及分账比例（奖励节点/社区/燃烧）。

* 账户管理增强
  • 多账户管理：可导入或创建多个账户，快速切换。
  • 账户别名：用户可自定义账户名称，方便识别。

* 提醒与通知
  • 交易状态通知：交易完成或失败时，前端弹窗/推送提醒。
  • 系统公告：显示官方公告、链升级或节点维护信息。

### 低优级功能
* 数据可视化
  • 资产变化趋势：显示余额、质押收益和手续费支出图表。
  • 交易统计：按时间/类型统计交易次数、金额、手续费总额。

* 社区与互动
  • 奖励活动提示：显示国储会或省储会节点奖励活动信息。
  • 反馈与帮助：提供操作帮助、FAQ、报错反馈。

* 高级安全
  • 双重验证（2FA）：增加可选二次验证，提高账户安全。
  • 离线交易签名：支持生成离线交易，在安全环境下签名再广播。
## 3.2.技术开发
* 初步架构
GMB/
└─ frontend/
    └─ wuminapp/                 # 轻节点前端
        ├─ package.json          # Node / React Native 项目依赖管理
        ├─ app.json              # React Native 配置文件
        ├─ src/                  # 源代码文件夹
        │   ├─ App.tsx           # 应用入口文件
        │   ├─ components/       # 可复用 UI 组件（按钮、表格、弹窗、投票列表等）
        │   ├─ pages/            # 页面模块
        │   │   ├─ Auth/         # 认证页面（CIIC、公民身份绑定）
        │   │   ├─ Wallet/       # 钱包页面（助记词、种子、公私钥管理）
        │   │   ├─ Voting/       # 投票页面（权威节点投票、轻节点投票）
        │   │   ├─ Transactions/ # 支付、转账、交易历史
        │   │   ├─ Chat/         # 私密通信页面（Matrix/端到端加密）
        │   ├─ hooks/            # 自定义 Hooks（状态管理、API 请求）
        │   ├─ utils/            # 工具函数（金额格式化、公民币单位转换、签名校验）
        │   └─ assets/           # 图片、图标、样式文件
        ├─ android/              # Android 平台原生配置和源码
        ├─ ios/                  # iOS 平台原生配置和源码
        └─ node_modules/         # 前端依赖库（React Native、Nova Wallet SDK、Matrix SDK 等）