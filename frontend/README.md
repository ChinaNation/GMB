# **<<前端模块/frontend>>**  开发文档
# 目录  

- <details>
  <summary>1. 管理前端/manage-frontend</summary>

  [1.1. 功能需求](#11功能需求) 
  [1.2. 技术开发](#12技术开发)
  </details>

- <details>
  <summary>2. 全节点前端/fullnode-frontend</summary>

  [2.1. 功能需求](#21功能需求)
  [2.2. 技术开发](#22技术开发)
  </details>

- <details>
  <summary>3. 公民轻节点前端/wuminapp-frontend</summary>

  [3.1. 功能需求](#31功能需求)
  [3.2. 技术开发](#32技术开发)
  </details>

- <details>
  <summary>4. 访客轻节点前端/gongminbi-frontend</summary>

  [4.1. 功能需求](#41功能需求)
  [4.2. 技术开发](#42技术开发)
  </details>

# 1.管理前端/manage-frontend
## 1.1.功能需求
### 1.1.1.高优级功能
* 管理员身份登录：国储会：使用公钥登录，执行全局多签操作；省储会：使用公钥登录，管理所属省的省储行节点，可参与跨省多签；使用公钥登录，只能管理本省节点，参与交易签名和本省多签。
* 多签管理操作：国储会：可发起全网级别多签提案，审批跨省节点操作，多签比例全网可见；省储会：可发起省级或跨省节点多签提案，审批本省或参与跨省提案；省储行：参与本省多签，签署交易或提案，无法单独完成跨省多签。
* 交易与清算管理：国储会：查看全网链上交易和分账情况，多签名地址（multisig_address）支付；省储会：多签名地址支付；省储行：查看本节点交易记录和本省链下手续费收入，管理本节点清算操作。
* 节点与账户监控：国储会：全网节点在线状态监控，国储会多签名地址余额显示；省储会：本省节点状态监控，本省多签名地址余额显示；省储行：本节点在线状态和账户余额显示，本省奖励/手续费收入监控。
* 提案投票：国储会：决议发行、增删改新省储会/省储行、决议销毁；决议发行、增删改新省储会/省储行、决议销毁；省储会：决议发行、决议销毁；省储行：投票：决议发行、决议销毁。
* 投票：决议发行、决议销毁；

### 1.1.2.中优级功能
* 日志与告警：国储会：查看全网操作日志，接收跨省异常告警。省储会：查看本省节点操作日志，接收省级告警。省储行：查看本节点操作日志，接收节点操作异常告警。
* 数据查询与分析：国储会：查询全网交易历史、多签操作统计、链上手续费分配趋势。省储会：查询本省交易历史、跨省多签记录、链上/链下手续费统计。省储行：查询本节点交易记录、本省手续费收入，统计节点奖励。

### 低优级功能
* 安全与硬件支持：国储会：支持硬件钱包签名、2FA 二次验证，全网多签操作安全审计。省储会：支持硬件钱包签名，省级多签安全验证。省储行：支持硬件钱包签名，本节点操作安全验证。
* 前端体验优化：国储会：全网节点、账户快速切换，多维度报表可视化。省储会：本省节点切换，报表可视化。省储行：本节点操作界面优化，奖励/交易统计可视化。
* 通知与消息：国储会：全网提案提醒、奖励到账通知、跨省操作告警。省储会：本省提案签名提醒、奖励到账通知。省储行：本节点提案签名提醒、奖励到账提醒。

## 1.2.技术开发
* 技术方案
┌──────────────────────────┐
│      manage-frontend     │
│       (Desktop App)      │
└───────────┬──────────────┘
            │
            │ 1. 钱包连接 / 公钥声明
            ▼
┌──────────────────────────┐
│   钱包接口层 (Wallet)      │
│  Ledger / Trezor / App   │
└───────────┬──────────────┘
            │
            │ 2. 签名结果（无私钥）
            ▼
┌──────────────────────────┐
│      manage-backend      │
│  API / Tx Builder / RPC  │
└───────────┬──────────────┘
            │
            │ 3. 上链 / 查询
            ▼
┌──────────────────────────┐
│        Blockchain        │
│   runtime / pallets      │
└──────────────────────────┘

****
# 2.全节点前端/fullnode-frontend
## 2.1.功能需求
### 2.1.1高优级功能
* 节点状态监控：节点在线/离线状态，当前区块高度、同步进度，节点角色显示（全节点），CPU / 内存 / 网络带宽使用情况；
* 链上区块信息：最新区块哈希，区块时间、交易数量，出块节点（奖励接收者）；
* 交易管理：节点本地钱包余额展示（链上公民币 / 代币），支持链上交易发起、签名、广播，链上交易手续费计算显示，链下交易与上链；
* 交易池监控：待处理交易数量，链上交易费统计（总额、平均费率），链下交易上链统计；
* 奖励统计：出块奖励实时统计（本节点获得的），奖励分账比例显示（80%节点、10%国储会、10%燃烧），历史累计奖励

### 2.1.2.中优级功能
* 节点控制：启动 / 停止 / 重启节点，同步状态强制刷新；
* 配置管理：节点配置文件查看与修改（链ID、RPC端口、出块参数），自动备份与恢复；
* 投票管理：投票操作（链上重要参数变更），提案状态查看（草案 / 待签 / 已执行）；
* 日志管理：节点运行日志查看（实时），错误日志分析，告警通知；
* 交易历史查询：本节点参与的交易记录，收益记录（手续费奖励）；

### 2.1.3.低优级功能
* 安全与身份审计：公钥身份绑定，硬件钱包 / 私钥签名操作，操作审计记录（时间、公钥、操作类型），审计日志导出；
* 数据可视化：区块高度、交易池、奖励统计的图表展示，链上/链下交易费趋势分析；
* 前端优化：桌面端包装（Tauri），响应式界面和主题切换，多节点监控切换；

## 2.2.技术开发

****
# 3.公民轻节点前端/wuminapp-frontend
## 3.1.功能需求
### 高优级功能
* 账户管理
  • 注册/导入账户：通过助记词或私钥导入或创建账户。
  • 账户信息展示：显示公民币余额、交易记录、质押状态。
  • 公钥登录：使用助记词生成公钥登录，不存储私钥于前端。
  • 身份认证：使用CIIC码绑定认证后可参与治理投票。 

* 转账支付功能
  • 链下支付：选择省储行节点，显示手续费和收款信息。
  • 链上支付：转账上链，显示链上手续费、收款地址和交易状态。
  • 交易确认：签名交易后，显示成功或失败信息。

* 交易记录查询
  • 交易历史：列出所有链上/链下交易记录，包括时间、金额、收付款方、手续费。
  • 状态显示：显示交易状态（待处理、已完成、失败）。

* 钱包安全
  • 签名授权：所有操作均使用用户私钥签名，无需账号密码。
  • 助记词管理提示：提醒用户妥善保存助记词，防止泄露。
  • 硬件钱包支持：可选硬件钱包签名，避免私钥暴露。

### 中优级功能
* 多节点选择
  • 省储行节点选择：显示可用省储行节点列表，可切换节点完成交易。
  • 节点状态监控：显示节点在线状态、响应延迟。

* 交易手续费提示
  • 链下交易费：显示省储行设定费率，并在转账前提示。
  • 链上交易费：显示全网链上手续费及分账比例（奖励节点/社区/燃烧）。

* 账户管理增强
  • 多账户管理：可导入或创建多个账户，快速切换。
  • 账户别名：用户可自定义账户名称，方便识别。

* 提醒与通知
  • 交易状态通知：交易完成或失败时，前端弹窗/推送提醒。
  • 系统公告：显示官方公告、链升级或节点维护信息。

### 低优级功能
* 数据可视化
  • 资产变化趋势：显示余额、质押收益和手续费支出图表。
  • 交易统计：按时间/类型统计交易次数、金额、手续费总额。

* 社区与互动
  • 奖励活动提示：显示国储会或省储会节点奖励活动信息。
  • 反馈与帮助：提供操作帮助、FAQ、报错反馈。

* 高级安全
  • 双重验证（2FA）：增加可选二次验证，提高账户安全。
  • 离线交易签名：支持生成离线交易，在安全环境下签名再广播。
## 3.2.技术开发

****
# 4.访客轻节点前端/gongminbi-frontend
## 4.1.功能需求
## 4.2.技术开发