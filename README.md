# **<<公民币区块链白皮书>>**  
# 目录  

- <details>
  <summary>1. 总则</summary>

  [1.1. 目的与背景](#11目的与背景)
  [1.2. 名称与简介](#12名称与简介)
  [1.3. 发行量概览](#13发行量概览)
  [1.4. 创世理念](#14创世理念)
  [1.5. 开源与去中心化](#15开源与去中心化)
  </details>

- <details>
  <summary>2. 节点设置</summary>

  [2.1. 节点类型](#21节点概览)
  [2.2. 国储会权威节点](#22国储会权威节点)
  [2.3. 省储会权威节点](#23省储会权威节点)
  [2.4. 省储行权益节点](#24省储行权益节点)
  [2.5. 全节点](#25全节点)
  [2.6. 轻节点:公民/访客](#26轻节点:公民/访客)
  </details>

- <details>
  <summary>3. 发行与销毁</summary>

  [3.1. 创世发行](#31创世发行)
  [3.2. 省储行创立发行](#32省储行创立发行)
  [3.3. 全节点发行](#33全节点发行)
  [3.4. 公民轻节点发行](#34公民轻节点发行)
  [3.5. 决议发行](#35决议发行)
  [3.6. 销毁](#36销毁)
  </details>

- <details>
  <summary>4. 费用及利息</summary>

  [4.1. 链上交易费](#41链上交易费)
  [4.2. 链下交易费](#42链下交易费)
  [4.3. 借贷利息](#43借贷利息)
  </details>

- <details>
  <summary>5. 投票机制</summary>

  [5.1. 基础规则](#51基础规则)
  [5.2. 安全与透明](#52安全与透明)
  </details>

- <details>
  <summary>6. 技术开发</summary>

  [6.1. 架构设计](#61架构设计)
  [6.2. 节点/node](#62节点node)
  [6.3. 自定义模块/pallets](#63#自定义模块pallets)
  [6.4. 运行时/runtime](#64运行时runtime)
  [6.5. 后端/backend](#65后端backend)
  [6.6. 前端/frontend](#66前端frontend)
  [6.7. 自定义类型库/primitives](#67自定义类型库primitives)
  [6.8. 工具/tools](#68工具tools)
  [6.9. 文库/wenku](#69文库wenku)
  </details>

****
# 1.总则
## 1.1.目的与背景
* 基于区块链技术以推动由公民党发起的《公民建国运动》的主权区块链系统，创立公民币区块链，采取去中心化民运，以建立自由民主的中华民族联邦共和国；
* 公民币区块链是一个不受任何机构掌控的主权区块链，一个所有人都能自由使用的法定数字货币系统，一个所有中华民族联邦共和国公民都能投票治理的区块链系统；
* 公民币区块链是一个结合公权、金融、法治和市场的区块链，将公民运动和建立联邦制共和国与去中心化的区块链系统深度绑定，以此构建一个具有公信、安全、开放、透明、高效的主权区块链系统；
* 公民币发行法律依据《公民宪法》原文：https://github.com/ChinaNation/FRC/blob/main/README.md

## 1.2.名称与简介  
* 名称：公民币区块链（英文：gongminbi），原生数字货币：公民币，符号：GMB；
* 单位：常用单位：元（YUAN），小数单位：分（FEN），元最小为1元，分最小为1分，100分等于1元，统一使用分为系统计算单位，使用元为前端展示单位。
* 公民币区块链结构图
![alt text](https://raw.githubusercontent.com/ChinaNation/GMB/main/wenku/公民币区块链结构图.png)

## 1.3.发行量概览
   |    发行类型     |             发行金额/简述            |         流通状态              |              备注                 |
   |:---------------|-----------------------------------:|:---------------------------:|----------------------------------:|
   |  创世发行       |      1,443,497,378.00元(14.43亿)    |   流通                       |  国储会pallet_address地址持有       |
   |  省储行创立发行  |  144,349,737,800.00元(1443.49亿)    |   永久质押                    |  各省储行keyless_address地址持有    |
   |  省储行质押利息  |    72,896,617,589.00元(728.97亿)    |   100年逐年释放               |  shengbank-stake-interest模块     |
   |  全节点发行     |    99,989,990,001.00元(999.89亿)    |   9,999,999个区块逐块释放      |  fullnode-pow-reward模块          | 
   |  公民轻节点发行  | 1,571,981,633,622.00元(1.57万亿)    |   1,443,497,378个节点逐个释放  |  citizen-lightnode-issuance模块   |
   |  决议发行      |       中华联邦建立后，联储会决议        |                -             |  resolution-issuance-gov/iss模块  |

## 1.4.创世理念
* 写入创世区块的公民宣言(Declaration of Citizens)：先有人类后有国家，是公民建立国家，国家是公民的国家，是公民治理国家，而不是国家统治公民，公民没有爱国的义务；国家政权的建立其基本原则是保护公民的生命权、自由权、财产权、反抗压迫权和选举与被选举权不受任何的非法侵犯，当国家政权无法保证这一基本原则时，公民有权有义务推翻这个政权，建立一个以保障公民生命权、自由权、财产权、反抗压迫权和选举与被选举权为基本原则的政权。
* 入创世区块的国家名称(Country Name)与五民主义(Wuminism)：中华民族联邦共和国国家名称是基于中华各民族悠久历史与璀璨文化的沉淀，全称为：中华民族联邦共和国，简称为：中华联邦，或中国及中华民国；中华民族联邦共和国是致力于推行五民主义———公民治理国家（民治）、实现民主共和（民主）、保障公民权利（民权）、建设民生社会（民生）、复兴民族文化（民族）———的联邦制共和国。
## 1.5.开源与去中心化
* 公民币区块链及其附属软件采用MIT开源协议，并在GitHub等多个开源平台上完全开放源代码；
* 公民币区块链将构建一套开源协议和架构，使开发者能快速、简易、低成本的开发部署区块链应用；
* 本系统完全去中心化，任何个人、任何组织都可以加入成为去中心化的节点（全节点、轻节点）之一。

****
# 2.节点设置
## 2.1.节点概览
   |  节点  |  国储会权威节点  |  省储会权威节点  | 省储行权益节点  |     全节点     |          轻节点:公民/访客        |
   |:-----:|:--------------:|:-------------:|:-------------:|:-------------:|:------------------------------:|
   |  数量  |       1个      |      43个      |     43个      |      无限      |              无限              |
   |  功能  | 国家铸币权、监管 |  省铸币权、监管  |   链下交易验证  |     PoW铸块    |       链上治理、链上链下交易      |

![alt text](https://raw.githubusercontent.com/ChinaNation/GMB/main/wenku/节点图.png)

## 2.2.国储会权威节点/nrcgch01  
* 有1个国储会权威节点，不能增删改，拥有19个管理员，分别对应国家储备委员会的19个委员，使用manage-frontend前端软件；
* 国储会拥有19票投票权和1个多签名模块（pallet_id）、1个模块地址（pallet_address），采用N=19，T≥13签名，签名通过则19票同时生效，反之则19票同时否决；
* 国储会拥有发起发行数字公民币、销毁数字公民币、增删改新省储会、增删改新省储行等投票和多签名pallet_address交易功能，并承担数据归档和引导节点；
* 国储会发起发行数字公民币、销毁数字公民币、增删改新省储会、增删改新省储行等流程的，需在权威节点和权益节点间投票通过（国储会+省储会+省储行）,且公民轻节点可投票驳回（国储会+省储会+省储行全票通过的除外）。

## 2.3.省储会权威节点/prcxxxxx  
* 有43个初始省储会权威节点，初始省储会权威节点不能增删改，每个节点拥有9个管理员，分别对应省储备委员会的9个委员，可增删改新省储会节点，使用manage-frontend前端软件；
* 每个省储会拥有1票投票权和1个多签名模块（pallet_id）、1个模块地址（pallet_address），采用N=9，T≥6签名，签名通过则生效，反之则否决，并承担数据归档和引导节点；
* 省储会能发起销毁数字公民币投票流程，省储会发起销毁本省储会持有的数字公民币的，仅需本省储会通过即可。

## 2.4.省储行权益节点/prbxxxxx    
* 有43个初始省储行权益节点，初始省储行权益节点不能增删改，每个节点拥有9个管理员，分别对应省储行的9个董事会成员，可增删改新省储行节点，使用manage-frontend前端软件； 
* 每个省储行拥有1票投票权和1个多签名模块（pallet_id）、1个模块地址（pallet_address），采用N=9，T≥6签名，签名通过则生效，反之则否决，并承担数据归档；
* 每个省储行拥有1个无私钥地址（keyless_address）无私钥地址只能接收数字公民币，用于永久质押省储行创立发行的数字公民币。

## 2.5.全节点    
* 全节点是数据归档和新块铸块节点，负责所有新区块的铸造，新区块特指除创世区块以外的所有区块，采用PoW共识机制获得铸块权；  
* 全节点数量不限，部署运行全节点软件（fullnode-frontend）的即是全节点，任何组织、任何人均可下载安装全节点软件成为全节点。

## 2.6.轻节点：公民/访客 
* 使用WuminApp轻节点软件，使用联邦公民身份识别码（CIIC）绑定的即公民轻节点，CIIC码和公民轻节点任意公钥地址一对一绑定，完成绑定后可获得投票权，一个CIIC码只能同时与一个公钥地址绑定。  
* 安装WuminApp轻节点软件未绑定认证的,为访客轻节点，访客轻节点没有投票权，使用第三方钱包的，亦为访客轻节点。

****
# 3.发行与销毁
## 3.1.创世发行
* 创世发行1,443,497,378.00元数字公民币（14.43亿元），创世发行量以中共第7次人口普查数据为基准，每一个中共国人发行1.00元数字公民币；
   |  第7次人口普查数据   |      创世发行量       |                         国储会账户地址（公民币）                        |              国储会募捐地址(以太坊)              |
   |:-----------------:|:--------------------:|:-------------------------------------------------------------------:|:--------------------------------------------:|
   |  1,443,497,378人  |  1,443,497,378.00元   |  0x6d6f646c6e726367636830310000000000000000000000000000000000000000 |  0x5Ce9B56b9D1812a7cF29841E21756F09cA7D223B  |
* 一个人在社会中享有若干权益的同时，同样应尽若干义务，尽了若干义务的，亦应享受若干权益，创世发行寓意每一个中共国人支付1.00元，以支持《公民建国运动》；   
* 创世发行1,443,497,378.00元数字公民币，兑换价格为每0.01U兑换1.00元数字公民币，即1U=100.00元数字公民币，预计融资额14,434,973.78U（1443.49万U），由国储会权威节点持有；
* 资金用途
   |          项目                            |  预算金额（USDT） |
   |:---------------------------------------:|:---------------:|
   |  各个官网开发                             |     50.00万      |
   |  公民币区块链开发                          |     300.00万     |
   |  WuminApp轻节点软件开发                    |     100.00万     |
   |  推广与社区建设                            |     500.00万     |
   |  其他用途                                 |     50.00万      |

## 3.2.省储行创立发行 
* 初始省储行节点，每个省储行发行该省总人口数x100的数字公民币，各省人口以中共第7次人口普查数据为基准（并做省份调整），共计发行144,349,737,800元；
* 各省储行创立发行的数字公民币永久质押于该省储行质押地址（keyless_address），该地址为无私钥地址，永久质押，详见：primitives/src/shengbank_stake_const.rs；
* 各省储行质押的数字公民币，由区块链支付质押利息,质押利息存入各省储行多签名模块地址（pallet_address），利息归各省储行所有，用于省储行运营和资助民运人士；
* 质押利息初始年利率为1%，并以线性衰减的方式每年减少0.01%，100年后停止计算利息，共产生利息72,896,617,589.00元公民币，详见：pallets/issuance/README.md；    
   |  序号  |   省份   |     人口数量       |          发行金额         |     利息总额    |                        该省储行keyless质押地址                      |
   |:-----:|:-------:|:----------------:|:-------------------------:|:-------------:|:------------------------------------------------------------------:|
   |**合计**|  **-**  |**1,443,497,378人**| **144,349,737,800.00元** |  **728.97亿元** |                                 -                                |
   |  1    |  中枢省  |   10,913,902人   |     1,091,390,200.00元    |    5.51亿元     |0x21bc9e12d717e4d55666501fd21f8f3fdfbf98d513d6584424f34162397ac1be|
* 完整省储行创立发行信息请查看下列文件：
https://github.com/ChinaNation/GMB/blob/main/pallets/issuance/README.md

## 3.3.全节点发行
* 运行全节点的每铸造一个新区块，系统发行9999.00元数字公民币用于奖励该节点，全节点铸块发行为第1个至第9,999,999个区块，共计发行量为99,989,990,001.00元数字公民币；
* 当区块高度超过9,999,999个区块后（第10,000,000个起，含本数），即永久停止全节点发行，全节点再铸造新块的将不再获得铸块奖励，详见：pallets/issuance/README.md。
   |  单个区块发行量 |   可发行的区块总量   |       总发行量          |     简述      |
   |:-------------:|:-----------------:|:----------------------:|:------------:|
   |   9999.00元   |    9,999,999个     |  99,989,990,001.00元   |  999.89亿元   |

## 3.4.公民轻节点发行
* 使用联邦公民身份识别码（CIIC码）完成公民轻节点认证的，将获得认证奖励，可获得认证奖励的节点总量为1,443,497,378个，前14,436,417个认证的公民轻节点，每个认证的节点奖励9999.00元；第14,436,417个之后再认证的公民轻节点，每个认证的节点奖励999.00元；   
* 达到公民轻节点发行总量后，再认证的节点不再获得奖励，认证发行奖励以先完成认证优先获得，每个公民身份识别码仅能获得一次认证奖励；  
* 公民轻节点发行能让更多的公民参与公民建国运动，早日推翻共产党，详见：pallets/issuance/README.md。  
   |   阶段    |     认证节点数     |   单节点发行金额   |         总发行量          |      简述       |
   |:--------:|:-----------------:|:---------------:|:------------------------:|:--------------:|
   |  未超过   |     14,436,417个  |    9,999.00元    |  144,349,733,583.00元    |  1443.49亿元    |
   |  超过后   |  1,429,060,961个  |      999.00元    |  1,427,631,900,039.00元  |  14276.31亿元   |
   |  总 计    |  1,443,497,378个  |        -        |  1,571,981,633,622.00元  |  15719.81亿元   |
 
## 3.5.决议发行
* 成立联邦公民储备委员会后，由联储会决议发行数字公民币，经联储会联合会议决议通过后，由国储会权威节点提案发起发行，详见：详见：pallets/governance/README.md及pallets/issuance/README.md；  
* 适时发行纸质公民币，纸质公民币用以替换人民币，数字公民币与纸质公民币按1:1兑换，公民币与人民币自由兑换；  
* 纸质公民币面额由1元、5元、10元、20元、50元、100元和500元共7种面额组成；另由国家铸币局统一铸造硬币，硬币面额由1分、5分、10分、20分和50分共5种面额组成。

## 3.6.销毁
* 国储会权威节点可发起销毁所持有账户内的公民币，国储会发起销毁流程的，在国储会内部投票，详见：pallets/governance/README.md；
* 省储会权威节点可发起销毁所持有账户内的公民币，省储会发起销毁流程的，在该省储会内部投票，详见：pallets/governance/README.md；
* 链上账户余额低于1.11元的账户将被清理账户Existential Deposit (ED)，以保护节点的安全，清除账户时账户中的余额将被销毁。

****
# 4.费用及利息
## 4.1.链上交易费
* 详见：pallets/transaction/README.md
## 4.2.链下交易费
* 详见：pallets/transaction/README.md
## 4.3.借贷利息
* 详见：backend/README.md

* ****
# 5.投票机制
## 5.1.基础规则
* 详见：pallets/governance/README.md
## 5.2.安全与透明
* 详见：pallets/governance/README.md

****
# 6.技术开发
* 主体使用Rust语言，采用Substrate框架开发，桌面前端使用Tauri框架，手机前端使用开源的Matrix框架（Element前端）+Nova Wallet钱包集成；
* 采用模块化开发，开发初期就要做好为后期去框架的准备，并符合长期技术演进，为今后重构中国的政府、金融、通信等领域的应用预留扩展。

## 6.1.架构设计
* 架构图
   GMB/
   ├── node/                    # 区块链节点程序
   │   ├── src/                 # 节点主要逻辑（chain_spec、service、cli）
   │   └── ...                  # 共识、网络、启动参数等
   │
   ├── pallets/                 # 自定义 Pallets（自定义核心逻辑模块）
   │   ├── governance/          # 治理模块（负责投票治理等）
   │   ├── issuance/            # 发行模块（管理公民币的发行执行）
   │   ├── template/            # Substrate 框架模块）
   │   └── transaction/         # 交易模块（链上链下交易手续费）
   │
   ├── runtime/                 # Runtime（业务逻辑核心）
   │   ├── src/                 # runtime lib.rs、GenesisConfig、构建 pallet 组合
   │   └── wasm/                # 编译后的 wasm 文件（system.code）
   │
   ├── backend/                 # 后端服务
   │   ├── fcrc-backend/        # 国家储备委员会（FCRC）后端服务
   │   ├── fullnode-backend/    # 全节点后端（全节点管理、同步、监控接口等）
   │   ├── manage-backend/      # 管理后端（国储会、省储会、省储行）
   │   └── wuminapp-backend/    # 轻节点 App 后端（CIIC认证、轻节点相关API）
   │
   ├── frontend/                # 前端应用
   │   ├── fullnode-frontend/   # 全节点桌面前端（矿工 PoW状态、区块浏览器）
   │   ├── manage-frontend/     # 管理桌面前端（机构管理员操作、治理界面等）
   │   └── wuminapp-frontend/   # 轻节点移动前端（钱包、公民投票、资产管理）
   │
   ├── primitives/              # 基础类型定义（自定义结构、常量）
   │
   ├── tools/                   # 工具脚本（账户生成、Key管理等）
   │
   └── wenku/                   # 文库（设计文档、图片素材、参考资料）

## 6.2.节点/node
### 6.2.1.接口模块/intf
### 6.2.2.网络模块/network
* libp2p
### 6.2.3.安全模块/security
* 使用Blake2-256哈希算法，
* 使用sr25519
### 6.2.4.存储模块/storage
* IPFS
* RocksDB
### 6.2.5.工作量证明/PoW
* 全节点使用PoW工作量证明共识获得铸块权，负责链上交易验证并铸块；
* 从第1个-第9,999,999个区块，每个区块发行9999.00元公民币，用于奖励铸块的全节点，由pallets/issuance/fullnode-pow-reward模块发行；
### 6.2.6.权益证明/PoS
* 链下交易由各省储行权益节点负责交易验证，省储行的交易验证权益来自于永久质押于各省储行质押钱包中的公民币；
* 用户在钱包前端（WuminApp）选择链下支付的，由各省储行负责交易验证，并在每天零点后集中将前一天的链下交易打包上链；
### 6.2.7.钱包/wallet
* 使用分层确定性钱包（HD Wallet）钱包；
* 使用Rust OsRng 生成 32 字节随机数熵 (32B)
* 使用32随机字节从 BIP-39 中生成24个助记词(24 Words)；
* 使用24个助记词通过PBKDF2（SHA-512，2048 次）生成64字节种子(Seed 64B)；
* 使用Seed生成Mini-Secret (32B)
* 使用Mini-Secret生成Expanded Secret (64B) 私钥；
* 使用Expanded Secret生成Public Key (32B)公钥；
* 使用Public Key采用SS58 Address编码生成公民币钱包地址。

## 6.3.自定义模块/pallets
### 6.3.1.治理模块/governance
* 管理员权限治理/admins-origin-gov
* 新增省节点治理/new-sheng-node
* 决议销毁治理/resolution-destro-gov
* 决议发行治理/resolution-issuance-gov

### 6.3.2.发行模块/issuance
* 省储行质押利息/shengbank-stake-interest
* 全节点发行/fullnode-pow-reward
* 公民轻节点发行/citizen-lightnode-issuance
* 决议发行/resolution-issuance-iss

### 6.3.3.交易模块/transaction
* 链上交易/onchain-transaction-fee
* 链下交易/offchain-transaction-fee

### 6.3.4.框架自带/template
* 框架自带模块

## 6.4.运营时/runtime

## 6.5.后端/backend
### 6.5.1.管理软件/manage-backend
### 6.5.2.全节点/fullnode-backend
### 6.5.3.轻节点/wuminapp-backend
### 6.5.4.储委会后端/fcrc-backend

## 6.6.前端/frontend
### 6.6.1.管理软件/manage-frontend
### 6.6.2.全节点软件/fullnode-frontend
### 6.6.3.轻节点软件/wuminapp-frontend

## 6.7.自定义类型库/primitives

## 6.8.工具/tools
### 6.8.1.keyless
* 无私钥地址生成工具；
### 6.8.2.subkey
* 钱包地址生成工具

## 6.9.文库/wenku

****