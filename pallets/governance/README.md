# **<<治理模块/governance>>开发文档**  
# 目录  

- <details>
  <summary>1. 投票系统/voting-engine-system</summary>

  [1.1. 基础规则](#11基础规则) 
  [1.2. 技术开发](#12技术开发) 
  [1.3. 安全与透明](#13安全与透明)
  </details>

- <details>
  <summary>2. 状态升级/runtime-root-upgrade</summary>

  [2.1. 功能需求](#21功能需求) 
  [2.2. 技术开发](#22技术开发)
  </details>

- <details>
  <summary>3. 管理员权限治理/admins-origin-gov</summary>

  [3.1. 功能需求](#31功能需求)
  [3.2. 技术开发](#32技术开发)
  </details>

- <details>
  <summary>4. 决议发行治理/resolution-issuance-gov</summary>

  [4.1. 功能需求](#34功能需求)
  [4.2. 技术开发](#34技术开发)
  </details>

- <details>
  <summary>5. 决议销毁治理/resolution-destro-gov</summary>

  [5.1. 功能需求](#51功能需求)
  [5.2. 技术开发](#52技术开发)
  </details>

- <details>
  <summary>6. 新增省节点/new-sheng-node</summary>

  [6.1. 功能需求](#61功能需求) 
  [6.2. 技术开发](#62技术开发)
  </details>

****
# 1.投票系统/voting-engine-system
## 1.1.基础规则
* 治理投票仅分为三种类型：内部投票、联合投票和公民投票，且投票选项只有同意或反对两个选项，每种投票的最长时限均为30天，30天内没有通过的则否决；
* 内部投票仅在国储会、各省储会、各省储行内部进行投票，且内部投票仅适用于“内部事项”，内部投票通过则执行，超期或未通过则否决；
* 联合投票是指国储会+全体省储会+全体省储行之间的联合投票，除内部投票的事项外，其他所有需要投票的事项均是联合投票事项，联合投票结果为全票通过的则执行，非全票通过的或超期的则进入公民投票流程；
* 公民投票是指所有经过公民认证的轻节点均可参与的投票，超过50%的可投票轻节点同意的则通过，超期或未通过的则否决；
* 国储会节点有19票，省储会节点每省1票共43票，省储行节点每省1票共43票，轻节点通过绑定公民身份识别码的拥有1票投票权；
* 轻节点绑定CIIC码后有35天的等待期，等待期满35天后才能参与投票，未满16周岁的公民不得投票，无效的CIIC码不得投票，每个提案每个CIIC码只能投票1次。
![alt text](https://raw.githubusercontent.com/ChinaNation/GMB/main/wenku/联储会架构图.png)

## 1.2.技术开发
* 内部投票/internal_vote.rs
* 联合投票/joint_vote.rs
* 公民投票/citizen_vote.rs

## 1.3.安全与透明
* 投票结果验证并载入区块链后，其结果不可篡改，所有投票均需通过验证节点的验证，以防止虚假投票结果；
* 系统配置防欺诈功能，自动检测异常行为，并记录所有操作日志，供后续审计和用户审阅；
* 投票规则、投票记录、投票结果完全公开，任何用户均可查阅；投票规则变更的，必须同步更新本白皮书，并向全链广播更新内容。

# 2.状态升级/runtime-root-upgrade
## 2.1.功能需求
* 除runtime升级外的超级管理员权限，由国储会承担，使用国储会内部投票执行，国储会内部投票通过的则具备超级管理员权限，反之则否决；
* 链的运行时状态函数升级由联合投票决定，通过则执行，反之则否决。

## 2.2.技术开发
* 超级管理员权限/root_upgrade.rs
* 状态函数升级/runtime_upgrade.rs

# 3.管理员权限治理/admins-origin-gov
## 3.1.功能需求
* 更改国储会、省储会、省储行的管理员列表成员的投票，本投票为内部投票，仅能对管理员列表进行更换，不能增加或删除，
* 国储会拥有19个管理员，每个省储会和省储行各拥有9个管理员；国储会仅能发起更换国储会管理员的内部投票，使用门限签名：N=19，T≥13即通过，反之则否决；
* 各省储会/各省储行仅能发起更换本省管理员的内部投票，使用门限签名：N=9，T≥6即通过，反之则否决；
## 3.2.技术开发

# 4.决议发行治理/resolution-issuance-gov
## 4.1.功能需求
* 仅国储会可提案决议发行，本提案为联合投票提案；
* 决议发行治理模块仅负责提案发行、投票流程，不负责执行发行，投票通过后的发行任务由决议发行发行模块（issuance/resolution-issuance-iss）执行；
## 4.2.技术开发

# 5.决议销毁治理/resolution-destro-gov
## 5.1.功能需求
* 国储会可提案销毁所持有地址内的公民币，由任意国储会委员/管理员提案，本提案为内部投票提案，使用门限签名：N=19，T≥13即通过，反之则否决；
* 省储会可提案销毁所持有地址内的公民币，由任意省储会委员/管理员提案，本提案为内部投票提案，使用门限签名：N=9，T≥6即通过，反之则否决；
* 省储行可提案销毁所持有交易地址内的公民币，由任意省储行懂事/管理员提案，本提案为内部投票提案，使用门限签名：N=9，T≥6即通过，反之则否决。
## 5.2.技术开发

# 6.新增省节点/new-sheng-node
## 6.1.功能需求
* 仅国储会节点可提案增删改新省储会/新省储行，且必须两者同时增删改，即同一个提案增删改一对省储会/省储行，本提案为联合投票提案；
## 6.2.技术开发